<!DOCTYPE html>
<html lang="en">
<head>
    <title>ESP Tour</title>
    <!-- Copyright Embedthis Software. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="ESP Tour" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    
    <link href="../images/favicon.ico" rel="shortcut icon" />
    <link href="../lib/semantic-ui/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../css/api.css" rel="stylesheet" type="text/css" />
    

</head>
<body class="show-sidebar">
    <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../index.html" class="logo">ESP Docs</a>
            </div>
            <div class="item">
                <a href="../index.html">
                    <b>General</b>
                </a>
                <div class="menu">
                    <a class="item" href="../index.html">ESP Overview</a>
                    <a class="item" href="../users/features.html">ESP Features</a>
                    <a class="item" href="https://embedthis.com/esp/download.html">Download</a>
                    <a class="item" href="../licensing/index.html">Licensing</a>
                </div>
            </div>
            <div class="item">
                <a href="../start/index.html">
                    <b>Getting Started</b>
                </a>
                <div class="menu">
                    <a class="item" href="../start/quick.html">Quick Start</a>
                    <a class="item" href="../start/index.html">Installing ESP</a>
                    <a class="item" href="../start/tour.html">ESP Tour</a>
                    <a class="item" href="../start/app-tour.html">ESP Applications Tour</a>
                    <a class="item" href="../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../start/source.html">Building from Source</a>
                </div>
            </div>
            <div class="item">
                <a href="../users/index.html"><b>User's Guide</b></a>
                <div class="menu">
                    <a class="item" href="../users/create.html">Creating ESP Applications</a>
                    <a class="item" href="../users/packages.html">Extension Packages</a>
                    <a class="item" href="../users/skeletons.html">Application Skeletons</a>
                    <a class="item" href="../users/config.html">Configuring ESP</a>
                    <a class="item" href="../users/components.html">Generating Components</a>
                    <a class="item" href="../users/building.html">Building Applications</a>
                    <a class="item" href="../users/deploying.html">Deploying Applications</a>
                    <a class="item" href="../users/pages.html">ESP Pages</a>
                    <a class="item" href="../users/layouts.html">Expansive Layouts</a>
                    <a class="item" href="../users/controllers.html">ESP Controllers</a>
                    <a class="item" href="../users/database.html">Databases</a>
                    <a class="item" href="../users/migrations.html">Database Migrations</a>
                    <a class="item" href="../users/sessions.html">Session Storage</a>
                    <a class="item" href="../users/security.html">Security Considerations</a>
                    <a class="item" href="../users/monitor.html">Monitoring and Defending</a>
                    <a class="item" href="../users/hosting.html">Hosting in Appweb</a>
                    <a class="item" href="../users/command.html">ESP Command</a>
                    <a class="item" href="../users/man.html">Manual Pages</a>
                </div>
            </div>
            <div class="item">
                <a href="../ref/index.html">Reference Guide</a>
                <div class="menu">
                    <a class="item" href="../ref/mvc.html">ESP MVC Framework</a>
                    <a class="item" href="../ref/compatibility.html">Compatibility</a>
                    <a class="item" href="../ref/native.html">API Library</a>
                    <a class="item" href="../ref/memory.html">ESP Memory Allocation</a>
                    <a class="item" href="../ref/multithread.html">Multithreaded Programming</a>
                </div>
            </div>
            <div class="item">
                <a href="../users/samples.html">Samples</a>
                <div class="menu">
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/config">config</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/controller">controller</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/html-mvc">html-mvc</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/layout">layout</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/login-database">login-database</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/login-form">login-form</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/login-roles">login-roles</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/page">page</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/session">session</a>
                  <a class="item" href="https://github.com/embedthis/esp/tree/dev/samples/upload">upload</a>
                </div>
            </div>
            <div class="item">
                <a href="../users/project.html">Project Resources</a>
                <div class="menu">
                    <a class="item" href="https://embedthis.com/blog/categories/ESP/">Official ESP News</a>
                    <a class="item" href="https://embedthis.com/esp/">ESP Web Site</a>
                    <a class="item" href="https://github.com/embedthis/esp">Source Code Repository</a>
                    <a class="item" href="https://github.com/embedthis/esp/issues">Project Issue Database</a>
                    <a class="item" href="https://github.com/embedthis/esp/releases">Change Log</a>
                    <a class="item" href="https://github.com/embedthis/esp/milestones">Roadmap</a>
                    <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
                </div>
            </div>
            <div class="item">
                <b>Links</b>
                <div class="menu">
                    <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/embedthat">Twitter</a>
                </div>
            </div>
        </div>
    </div>



    <div class="ui inverted masthead">
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/esp/">ESP Site</a>
                    <span class="desktop-only">
                        <a class="item" href="https://embedthis.com/blog/categories/ESP/">ESP News</a>
                        <a class="item" href="https://github.com/embedthis/esp">Repository</a>
                        <a class="item" href="https://embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/embedthat">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="index.html">
                Getting Started
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="tour.html">ESP Tour</a>
            
        </div>
        
        <iframe class="version desktop-only" src="../version.html"></iframe>

    </div>
    <div class="content">

            <h1>ESP Tour</h1>
            <p>This quick tour of the ESP Web Framework provides an overview of ESP and how to use it 
            to create ESP pages and ESP applications.</p>

            <p>Before you start, make sure you have read the <a href="quick.html">Quick Start</a> and
            that you have ESP installed on your system so you can try the commands as you go.</p>
            <p>
                <a class="ui labeled small icon blue button" href="https://embedthis.com/esp/download.html">
                    <i class="download cloud icon"></i>
                    Download ESP</a>
            </p>

            <a id="run"></a>
            <h2>Running ESP</h2>
            <p>The ESP web framework includes a utility program called <em>esp</em> that is used to initialize and
                then run your application.</p>
            <p>To start the tour, create a directory to contain your ESP application and then from that directory,
                run <em>esp</em>. In this example, we create a directory called "<em>test</em>". The directory
                name is used as the default name for your application, so choose a name that can be a valid 
                <em>C</em> identifier.</p>

            <pre class="code">
<b>$ mkdir test
$ cd test
$ esp</b>
esp: 2: Started HTTP service on "127.0.0.1:4000"
esp: 1: Started at Mon Apr 14 15:00:42 2014 PDT</pre>
            <p>ESP is now running and ready to serve documents from the "<em>test</em>" directory.</p>


            <a id="hello"></a>
            <h2>Hello World</h2>
            <p>The first step in any tour is to create a simple "Hello World" web page. ESP web pages have 
            an <em>.esp</em> extension.
            Create a file called <em>hello.esp</em> using your favorite text editor in the <em>test</em> directory
            with the following content:</p>
            <pre class="code">
&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Hello World&lt;/h1&gt;
&lt;/body&gt;
</pre>
            <p>To view the "Hello" web page, type the following URL: 
            <em>http://localhost:4000/hello.esp</em> into your browser.</p>
            <img src="../images/esp/tour/hello.png" alt="hello" class="bare-screen" /> 

            <a id="dynamic"></a>
            <h2>Dynamic Content</h2>
            <p>While that was fun, the output is static and boring, so let's add some dynamic content. You can embed
            <em>C</em> language code and ESP function calls  by including them inside a special ESP web page directive that 
            will be executed and converted to HTML before being sent to the client. There are a variety of server-side 
            ESP web page directives, the one you'll use first, is: </p>

            <pre class="code">&lt;%= expression %&gt;</pre>

            <p>To add the current date and time, modify the hello.esp web page and add the highlighted line:</p>
            <pre class="code">
&lt;h1&gt;Hello Bright World&lt;/h1&gt;
&lt;h2&gt;Generated on <b>&lt;%= mprGetDate(0); %&gt;</b>&lt;/h2&gt;
</pre>
            <p>Now when you re-run the page, it will display the current date and time. If you refresh the page by
            pressing reload, the new date and time will be displayed.</p>
            
            <img src="../images/esp/tour/hello-dynamic.png" alt="hello" class="bare-screen" />

            <h3>No Restart Required</h3>
            <p>Notice that you did not have to restart the web server, nor did you have to manually recompile the
            ESP code. Rather, ESP transparently recompiled the web page in the background. ESP noticed that the 
            hello.esp web page had been modified and it re-parsed and compiled it into a loadable module 
            ready for execution. The loaded module is cached in-memory and on-disk for fast execution by 
            subsequent requests.</p>

            <p>In the output from the <em>esp</em> command, you may have noticed:</p>

            <pre class="code">
esp: 2: GET /hello.esp HTTP/1.1
esp: 2: esp: compile hello.esp
esp: 2: Loading native module view_d2f3bdb8df0a0f0b440ea83c81b618c5.dylib
esp: 2:   HTTP/1.1 200 OK</pre>
            <p>This output traces each request and response, but also notifies you that the page was recompiled.
            Any request or page syntax errors will be show in the esp log output.</p>
            <p>You can also embed arbitrary C code in your ESP page, like:</p>

            <pre class="code">
<b>&lt;h3&gt;&lt;% render("Request method is %s", getMethod()); %&gt;&lt;/h3&gt;</b>
<b>&lt;% 
    int i;
    for (int i = 0; i &lt; 10; i++) {
        render(" Line: %d&lt;/br&gt;\r\n", i);
    } 
%&gt;</b>
</pre>
            <p>By using the ESP statement directive <em>&lt;% code %&gt;</em>, you can embed arbitrary <em>C</em> language
            statements in your web page. The <em>render</em> function allows you to write arbitrary data which is patched
            back where the directive was defined in the page. See the <a href="../users/pages.html">ESP Pages</a>
            document for full details about all the ESP web page directives.</p>
            <p>For help on the <em>esp</em> utility, use <em>man esp</em> or invoke esp with the 
                <em>esp -help</em> switch.</p>
            <pre class="code">$ <b>man esp</b>
$ <b>esp -help</b></pre> 

            <a id="learn"></a>
            <h2>Learn More ...</h2>
            <p>That concludes a quick tour through some of the capabilities of the ESP web framework. 
            To learn more, please read:</p>
            <ul>
                <li><a href="app-tour.html">ESP Applications Tour</a>
                <li><a href="index.html">User's Guide</a></li>
                <li><a href="../users/pages.html">ESP Pages</a></li>
                <li><a href="../ref/mvc.html">ESP MVC Framework</a></li>
            </ul>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2015. All rights reserved.</p>
    </div>

    <script src="../lib/jquery/jquery.min.js"></script>
    <script src="../lib/semantic-ui/semantic.js"></script>
    <script src="../scripts/sidebar.js"></script>
     

    

</body>
</html>
